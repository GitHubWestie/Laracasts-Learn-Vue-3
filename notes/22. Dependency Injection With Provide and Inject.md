## Dependency Injection With Provide and Inject
When passing props around you may encounter situations where it's necessary to passs props through 2 or more child components. In Vue terms this is known as **prop drilling**. 

Prop drilling can become laborious very quickly and also introduces more potential for errors. Not to mention it feels a bit gross to pass props through components that dont actually use them. 

To avoid having to do this Vue provides two methods: `provide()` and `inject()`

### provide() and inject()
---

#### Provide
First Vue needs to know what it's going to be injecting. This is established using the `provide()` method.

```js
<script setup>
import { provide } from 'vue';

const quiz = { /* quiz data */}
provide('quiz', quiz);
</script>
```

Once declared the data given in the `provide()` method will be available to ***all*** child components.

#### Inject
To use the provided data it needs to be injected at the location where it is to be used.

```js
<script>
import { inject } from 'vue';

const quiz = inject('quiz');
</script>
```

Now the variable `quiz` contains all of the data passed through from the parent component, no matter how many levels deep the child component is. No prop drilling involved at all.

### Reactive Data
---
provide() and inject() can also be used for reactive data `ref()`. Any changes made at the childs level will bubble up and update the parent accordingly and of course changes made at the parent level will be reflected at the child level.

However, while this might be ok for smaller projects it may be frowned upon at larger scale. This is because having data changed at a deeply nested level may make it difficult to work out exactly where the data is being changed, leading to wasted time tracking down the source.

Instead a mutator method can be provided with the data. A sort of setter method that the child can call if it needs to update and reflect changes.

```js
<script setup>
provide('name', {
    name: name,
    changeName: () => {
        name.value = 'New name';
    }
})
</script>
```

Then in the child component it would be used like this:

```js
<script setup>
let { name, changeName } = inject('name');
</script>

<template>
    <button @click="changeName">{{ name }}</button>
</template>
```

Now when the button is clicked the name value will be updated to 'New name'.
