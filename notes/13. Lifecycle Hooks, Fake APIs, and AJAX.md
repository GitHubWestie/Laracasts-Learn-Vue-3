## Lifecycle Hooks, Fake APIs, and AJAX
A fake API can be useful to quickly work with some dummy data for an app. One tool for this is `json-server`. To install it run `npm install json-server`. This can be saved to the dev dependencies list by appending the `--save-dev` flag to the command.

json-server requires a fake database to serve data from. Create a json file to act as the database and move the assignments data to it. Update the formatting for JSON.

```json
{
    "assignments": [
        {
            "name": "Finish project",
            "complete": false,
            "id": 1,
            "tag": "Science"
        },
        // ...
    ]
}
```

To serve the data run `npx json-server <name of database file>`. Running `npx json-server` alone will display the help menu.

Once the server is running the endpoint will be shown in the terminal. The name of the array in the database file will also be the name of the endpoint that the data will be served from. In this case, assignments.
`http://localhost:3000/assignments`.
*If in codespaces the url as generated by codespaces. Check the ports tab for this. Visibility will likely need to be set to public too.*

If necessary a specific port can be set when booting up the server using the `-p <port>` flag and specifying a port number.

### Lifecycle Hooks and AJAX Requests
Now the data needs to be requested from the database. Vue provides a [component lifecycle diagram](https://vuejs.org/assets/lifecycle.MuZLBFAS.png) which is useful for working out where in the lifecycle that data should be requested.

There are several hooks in the diagram but the 3 most commonly used are `created`, `mounted` and `unmounted`. Incidentally the name of the hooks is also the method name required to use them. Super convenient.

```js
created() {
    alert('Created!')
}
```

So to `fetch` the data from the database the created() method can be used. This is ideal as it is just before the component is compiled.

```js
created() {
    fetch('http://localhost:3000/assignments');
}
```

### Promises, promises...
`fetch()` returns what is known as a promise. This is because of the a-synchronous behaviour of the request and response. Vue's lifecycle won't wait for that data to be returned, it will just carry on with it's lifecycle. fetch() promises to either return the data or an error if it fails at somepoint in the future. This way requests don't have to be synchronous and everything else can carry on while waiting for the response.

Once the data has been fetched you can tell JavaScript what to do with it. In this case:
```js
    created() {
        fetch('http://localhost:3000/assignments') // Promises to get data
        .then(response => response.json()) // Promises to return data as JSON
        .then(data => { // Finally, returns data which is then assigned as the value of the assignments array
            this.assignments = data
        });
    },
```

### Updating the data
Updating the data in the database *may* require a restart of the server before they can be rendered again. If it does the port visibility will revert back to `private`, causing `CORS` errors. Rememeber to set it back to `public` to avoid this.